[**@ecp.eth/sdk**](../../index.mdx)

***

[@ecp.eth/sdk](/sdk-reference/index.mdx) / [indexer](/sdk-reference/indexer/index.mdx) / FetchCommentsOptions

# Type Alias: FetchCommentsOptions

```ts
type FetchCommentsOptions = {
  apiUrl?: string;
  app?: Hex;
  author?: Hex;
  chainId: number | number[];
  channelId?: bigint;
  commentType?: number;
  cursor?: Hex;
  excludeByModerationLabels?: IndexerAPIModerationClassificationLabelSchemaType[];
  isDeleted?: boolean;
  limit?: number;
  mode?: IndexerAPICommentListModeSchemaType;
  moderationScore?: number;
  moderationStatus?:   | IndexerAPICommentModerationStatusSchemaType
     | IndexerAPICommentModerationStatusSchemaType[];
  retries?: number;
  signal?: AbortSignal;
  sort?: IndexerAPISortSchemaType;
  targetUri?: string;
  viewer?: Hex;
};
```

Defined in: [packages/sdk/src/indexer/api.ts:170](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L170)

The options for `fetchComments()`

## Properties

### apiUrl?

```ts
optional apiUrl: string;
```

Defined in: [packages/sdk/src/indexer/api.ts:192](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L192)

URL on which /api/comments endpoint will be called

#### Default

```ts
"https://api.ethcomments.xyz"
```

***

### app?

```ts
optional app: Hex;
```

Defined in: [packages/sdk/src/indexer/api.ts:196](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L196)

Filter comments sent using this app signer key.

***

### author?

```ts
optional author: Hex;
```

Defined in: [packages/sdk/src/indexer/api.ts:178](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L178)

Filter comments by author

***

### chainId

```ts
chainId: number | number[];
```

Defined in: [packages/sdk/src/indexer/api.ts:182](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L182)

Filter comments by chain ID(s)

***

### channelId?

```ts
optional channelId: bigint;
```

Defined in: [packages/sdk/src/indexer/api.ts:200](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L200)

Filter comments by channel ID

***

### commentType?

```ts
optional commentType: number;
```

Defined in: [packages/sdk/src/indexer/api.ts:204](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L204)

Filter comments by comment type

***

### cursor?

```ts
optional cursor: Hex;
```

Defined in: [packages/sdk/src/indexer/api.ts:230](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L230)

The cursor to fetch comments from

***

### excludeByModerationLabels?

```ts
optional excludeByModerationLabels: IndexerAPIModerationClassificationLabelSchemaType[];
```

Defined in: [packages/sdk/src/indexer/api.ts:259](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L259)

Filter comments by moderation labels.

Only comments with moderation labels not included in the provided array are returned.
This can be used to bypass premoderation, make sure to pass all moderation statuses to moderationStatus parameter
if the premoderation is enabled.

***

### isDeleted?

```ts
optional isDeleted: boolean;
```

Defined in: [packages/sdk/src/indexer/api.ts:209](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L209)

Whether to return only deleted comments or only undeleted comments.
If omitted it will return both deleted and undeleted comments.

***

### limit?

```ts
optional limit: number;
```

Defined in: [packages/sdk/src/indexer/api.ts:265](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L265)

The number of comments to fetch

#### Default

```ts
50
```

***

### mode?

```ts
optional mode: IndexerAPICommentListModeSchemaType;
```

Defined in: [packages/sdk/src/indexer/api.ts:243](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L243)

The mode to fetch comments in by default it returns only the first level of comments.
If flat is used it will return all comments sorted by timestamp in descending order.

#### Default

```ts
"nested"
```

***

### moderationScore?

```ts
optional moderationScore: number;
```

Defined in: [packages/sdk/src/indexer/api.ts:251](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L251)

Filter comments by moderation score.

Only comments with moderation score lower or equal to the provided value are returned.
This can be used to bypass premoderation, make sure to pass all moderation statuses to moderationStatus parameter
if the premoderation is enabled.

***

### moderationStatus?

```ts
optional moderationStatus: 
  | IndexerAPICommentModerationStatusSchemaType
  | IndexerAPICommentModerationStatusSchemaType[];
```

Defined in: [packages/sdk/src/indexer/api.ts:218](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L218)

Filter comments by moderation status.

By default API returns only approved comments if moderation is enabled for all comments except
when the viewer is provided, for viewer it returns all comments regardless of status.

If moderation is disabled, this parameter is ignored.

***

### retries?

```ts
optional retries: number;
```

Defined in: [packages/sdk/src/indexer/api.ts:226](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L226)

Number of times to retry the signing operation in case of failure.

#### Default

```ts
3
```

***

### signal?

```ts
optional signal: AbortSignal;
```

Defined in: [packages/sdk/src/indexer/api.ts:266](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L266)

***

### sort?

```ts
optional sort: IndexerAPISortSchemaType;
```

Defined in: [packages/sdk/src/indexer/api.ts:236](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L236)

The sort order, either `asc` or `desc`

#### Default

```ts
"desc"
```

***

### targetUri?

```ts
optional targetUri: string;
```

Defined in: [packages/sdk/src/indexer/api.ts:174](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L174)

The target URI to fetch comments for

***

### viewer?

```ts
optional viewer: Hex;
```

Defined in: [packages/sdk/src/indexer/api.ts:186](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L186)

The viewer's address. This is useful when the content moderation is enabled on the indexer.
