[**@ecp.eth/sdk**](../../index.mdx)

***

[@ecp.eth/sdk](/sdk-reference/index.mdx) / [indexer](/sdk-reference/indexer/index.mdx) / fetchComments

# Function: fetchComments()

```ts
function fetchComments(options): Promise<{
  extra: {
     moderationEnabled: boolean;
  };
  pagination: {
     endCursor?: `0x${string}`;
     hasNext: boolean;
     hasPrevious: boolean;
     limit: number;
     startCursor?: `0x${string}`;
  };
  results: {
     app: `0x${string}`;
     author: {
        address: `0x${string}`;
        ens?: {
           avatarUrl: null | string;
           name: string;
        };
        farcaster?: {
           displayName?: string;
           fid: number;
           pfpUrl?: string;
           username?: string;
        };
     };
     chainId: number;
     channelId: bigint;
     commentType: number;
     content: string;
     createdAt: Date;
     cursor: `0x${string}`;
     deletedAt: null | Date;
     hookMetadata: {
        key: `0x${string}`;
        value: `0x${string}`;
     }[];
     id: `0x${string}`;
     logIndex: null | number;
     metadata: {
        key: `0x${string}`;
        value: `0x${string}`;
     }[];
     moderationStatus: "approved" | "pending" | "rejected";
     moderationStatusChangedAt: Date;
     parentId: null | `0x${string}`;
     replies: {
        extra: {
           moderationEnabled: boolean;
        };
        pagination: {
           endCursor?: `0x${string}`;
           hasNext: boolean;
           hasPrevious: boolean;
           limit: number;
           startCursor?: `0x${string}`;
        };
        results: {
           app: `0x${string}`;
           author: {
              address: `0x${string}`;
              ens?: {
                 avatarUrl: ... | ...;
                 name: string;
              };
              farcaster?: {
                 displayName?: ... | ...;
                 fid: number;
                 pfpUrl?: ... | ...;
                 username?: ... | ...;
              };
           };
           chainId: number;
           channelId: bigint;
           commentType: number;
           content: string;
           createdAt: Date;
           cursor: `0x${string}`;
           deletedAt: null | Date;
           hookMetadata: {
              key: `0x${string}`;
              value: `0x${string}`;
           }[];
           id: `0x${string}`;
           logIndex: null | number;
           metadata: {
              key: `0x${string}`;
              value: `0x${string}`;
           }[];
           moderationStatus: "approved" | "pending" | "rejected";
           moderationStatusChangedAt: Date;
           parentId: null | `0x${string}`;
           revision: number;
           targetUri: string;
           txHash: `0x${string}`;
           updatedAt: Date;
           zeroExSwap:   | null
              | {
              from: {
                 address: `0x${(...)}`;
                 amount: string;
                 symbol: string;
              };
              to: {
                 address: `0x${(...)}`;
                 amount: string;
                 symbol: string;
              };
            };
        }[];
     };
     revision: number;
     targetUri: string;
     txHash: `0x${string}`;
     updatedAt: Date;
     zeroExSwap:   | null
        | {
        from: {
           address: `0x${string}`;
           amount: string;
           symbol: string;
        };
        to: {
           address: `0x${string}`;
           amount: string;
           symbol: string;
        };
      };
  }[];
}>;
```

Defined in: [packages/sdk/src/indexer/api.ts:101](https://github.com/ecp-eth/comments-monorepo/blob/main/packages/sdk/src/indexer/api.ts#L101)

Fetch comments from the Indexer API

## Parameters

### options

[`FetchCommentsOptions`](/sdk-reference/indexer/type-aliases/FetchCommentsOptions.mdx)

## Returns

`Promise`\<\{
  `extra`: \{
     `moderationEnabled`: `boolean`;
  \};
  `pagination`: \{
     `endCursor?`: `` `0x${string}` ``;
     `hasNext`: `boolean`;
     `hasPrevious`: `boolean`;
     `limit`: `number`;
     `startCursor?`: `` `0x${string}` ``;
  \};
  `results`: \{
     `app`: `` `0x${string}` ``;
     `author`: \{
        `address`: `` `0x${string}` ``;
        `ens?`: \{
           `avatarUrl`: `null` \| `string`;
           `name`: `string`;
        \};
        `farcaster?`: \{
           `displayName?`: `string`;
           `fid`: `number`;
           `pfpUrl?`: `string`;
           `username?`: `string`;
        \};
     \};
     `chainId`: `number`;
     `channelId`: `bigint`;
     `commentType`: `number`;
     `content`: `string`;
     `createdAt`: `Date`;
     `cursor`: `` `0x${string}` ``;
     `deletedAt`: `null` \| `Date`;
     `hookMetadata`: \{
        `key`: `` `0x${string}` ``;
        `value`: `` `0x${string}` ``;
     \}[];
     `id`: `` `0x${string}` ``;
     `logIndex`: `null` \| `number`;
     `metadata`: \{
        `key`: `` `0x${string}` ``;
        `value`: `` `0x${string}` ``;
     \}[];
     `moderationStatus`: `"approved"` \| `"pending"` \| `"rejected"`;
     `moderationStatusChangedAt`: `Date`;
     `parentId`: `null` \| `` `0x${string}` ``;
     `replies`: \{
        `extra`: \{
           `moderationEnabled`: `boolean`;
        \};
        `pagination`: \{
           `endCursor?`: `` `0x${string}` ``;
           `hasNext`: `boolean`;
           `hasPrevious`: `boolean`;
           `limit`: `number`;
           `startCursor?`: `` `0x${string}` ``;
        \};
        `results`: \{
           `app`: `` `0x${string}` ``;
           `author`: \{
              `address`: `` `0x${string}` ``;
              `ens?`: \{
                 `avatarUrl`: ... \| ...;
                 `name`: `string`;
              \};
              `farcaster?`: \{
                 `displayName?`: ... \| ...;
                 `fid`: `number`;
                 `pfpUrl?`: ... \| ...;
                 `username?`: ... \| ...;
              \};
           \};
           `chainId`: `number`;
           `channelId`: `bigint`;
           `commentType`: `number`;
           `content`: `string`;
           `createdAt`: `Date`;
           `cursor`: `` `0x${string}` ``;
           `deletedAt`: `null` \| `Date`;
           `hookMetadata`: \{
              `key`: `` `0x${string}` ``;
              `value`: `` `0x${string}` ``;
           \}[];
           `id`: `` `0x${string}` ``;
           `logIndex`: `null` \| `number`;
           `metadata`: \{
              `key`: `` `0x${string}` ``;
              `value`: `` `0x${string}` ``;
           \}[];
           `moderationStatus`: `"approved"` \| `"pending"` \| `"rejected"`;
           `moderationStatusChangedAt`: `Date`;
           `parentId`: `null` \| `` `0x${string}` ``;
           `revision`: `number`;
           `targetUri`: `string`;
           `txHash`: `` `0x${string}` ``;
           `updatedAt`: `Date`;
           `zeroExSwap`:   \| `null`
              \| \{
              `from`: \{
                 `address`: `` `0x${(...)}` ``;
                 `amount`: `string`;
                 `symbol`: `string`;
              \};
              `to`: \{
                 `address`: `` `0x${(...)}` ``;
                 `amount`: `string`;
                 `symbol`: `string`;
              \};
            \};
        \}[];
     \};
     `revision`: `number`;
     `targetUri`: `string`;
     `txHash`: `` `0x${string}` ``;
     `updatedAt`: `Date`;
     `zeroExSwap`:   \| `null`
        \| \{
        `from`: \{
           `address`: `` `0x${string}` ``;
           `amount`: `string`;
           `symbol`: `string`;
        \};
        `to`: \{
           `address`: `` `0x${string}` ``;
           `amount`: `string`;
           `symbol`: `string`;
        \};
      \};
  \}[];
\}\>

A promise that resolves comments fetched from the Indexer API
